import { NavLink, Outlet, useNavigate } from "react-router-dom";
import { auth } from "../../utils/AdminRoutes";

import ic_logout from "../../assets/icon-logout.svg";
import bgPrimary from "../../assets/bg-cl-primary.png";
import bgSecondary from "../../assets/bg-cl-secondary.png";
import logo from "../../assets/logo.png";

const Admin = () => {
  const navigate = useNavigate();

  // dijalankan ketika button logout di klik
  const handleLogOut = () => {
    auth.token = false;
    localStorage.removeItem("Authorization");
    navigate("/");
  };

  // Style NavLink
  const navLInk = "py-2 px-3 flex items-center gap-4 font-medium rounded-xl";
  const activeNav =
    "py-2 px-3 flex items-center gap-4 font-medium rounded-xl bg-primary text-secondary";

  return (
    <>
      <div className="flex w-full min-h-screen ">
        {/* Awal bagian Sidebar */}
        <nav
          className="w-3/12 bg-cover bg-center bg-no-repeat py-6 px-7 fixed  top-0 left-0 bottom-0 drop-shadow-lg "
          style={{ backgroundImage: `url(${bgSecondary})` }}
        >
          <div className="flex gap-2 items-center mb-10">
            <img src={logo} alt="logo_desa_dilem" className="w-10 h-10"/>
            <h1 className="font-semibold text-2xl text-primary">Desa Dilem</h1>
          </div>
          <div className="flex flex-col text-primary text-lg gap-4">
            {/* NavLink Desa */}
            <NavLink
              to={"/admin/"}
              className={({ isActive }) => (isActive ? activeNav : navLInk)}
            >
              {({ isActive }) => (
                <>
                  <svg
                    className={`${
                      isActive ? "fill-secondary" : "fill-primary"
                    } w-[27px] h-[27px]`}
                    viewBox="0 0 27 27"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      opacity="0.981"
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M26 13.3645C26 13.5935 26 13.8225 26 14.0515C25.6355 14.7799 25.0939 14.9648 24.375 14.6064C24.0788 14.2982 23.7825 13.9898 23.4863 13.6816C23.4694 15.0557 23.4525 16.4298 23.4355 17.8039C23.0818 18.5374 22.5486 18.7224 21.8359 18.3589C21.6529 18.2157 21.526 18.0308 21.4551 17.8039C21.4382 15.7075 21.4212 13.6111 21.4043 11.5147C18.8243 8.77667 16.226 6.05485 13.6094 3.3492C13.237 3.10256 12.8646 3.10256 12.4922 3.3492C9.8445 6.05195 7.21231 8.77377 4.5957 11.5147C4.56185 15.2495 4.56185 18.9842 4.5957 22.7191C4.65838 23.7524 5.15775 24.4306 6.09375 24.7538C7.14091 24.83 8.19041 24.8564 9.24219 24.8331C9.23371 21.8558 9.24219 18.8785 9.26758 15.9013C9.3993 15.5351 9.64473 15.2973 10.0039 15.1878C12.0352 15.1526 14.0664 15.1526 16.0977 15.1878C16.4568 15.2973 16.7023 15.5351 16.834 15.9013C16.8594 18.8785 16.8679 21.8558 16.8594 24.8331C17.7905 24.8419 18.7215 24.8331 19.6523 24.8067C20.5335 24.626 21.1006 24.0887 21.3535 23.1947C21.3569 22.8026 21.4416 22.4326 21.6074 22.0849C22.166 21.5211 22.7246 21.5211 23.2832 22.0849C23.6142 23.6102 23.2164 24.9051 22.0898 25.9694C21.4433 26.5347 20.6986 26.8694 19.8555 26.9736C18.4336 27.0088 17.0117 27.0088 15.5898 26.9736C15.2307 26.8641 14.9852 26.6262 14.8535 26.2601C14.8281 23.2829 14.8196 20.3056 14.8281 17.3283C13.6432 17.3283 12.4583 17.3283 11.2734 17.3283C11.2819 20.3056 11.2734 23.2829 11.248 26.2601C11.1163 26.6262 10.8709 26.8641 10.5117 26.9736C9.05597 27.0088 7.60028 27.0088 6.14453 26.9736C4.27778 26.669 3.10135 25.5679 2.61523 23.6704C2.54845 20.3427 2.5146 17.0131 2.51367 13.6816C2.21745 13.9898 1.92122 14.2982 1.625 14.6064C0.906125 14.9648 0.36446 14.7799 0 14.0515C0 13.8225 0 13.5935 0 13.3645C0.0707036 13.2707 0.129948 13.165 0.177734 13.0473C3.79167 9.2861 7.40558 5.5249 11.0195 1.76368C12.4019 0.728119 13.773 0.745736 15.1328 1.81653C18.696 5.56013 22.2591 9.30376 25.8223 13.0473C25.8701 13.165 25.9293 13.2707 26 13.3645Z"
                    />
                  </svg>
                  <h1>Informasi Desa Dilem</h1>
                </>
              )}
            </NavLink>
            {/* Navlink Informasi */}
            <NavLink
              to={"informasi"}
              className={({ isActive }) => (isActive ? activeNav : navLInk)}
            >
              {({ isActive }) => (
                <>
                  <svg
                    className={`${
                      isActive ? "fill-secondary" : "fill-primary"
                    } w-[27px] h-[27px]`}
                    viewBox="0 0 27 27"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_119_51)">
                      <path
                        opacity="0.948"
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M26.9736 2.39935C26.9736 2.94427 26.9736 3.4892 26.9736 4.03412C26.4561 5.54712 25.3926 6.37326 23.7832 6.51263C21.8161 6.29458 20.7175 5.20472 20.4873 3.2431C20.5691 1.78684 21.2723 0.75852 22.5967 0.158139C24.2048 -0.334739 25.5144 0.0783475 26.5254 1.3974C26.7058 1.7226 26.8552 2.05658 26.9736 2.39935ZM23.5986 1.97748C24.4268 1.98845 24.9014 2.40153 25.0225 3.21673C24.8674 4.16387 24.3224 4.55059 23.3877 4.37689C22.5664 3.95398 22.3642 3.32995 22.7812 2.50482C22.9869 2.21373 23.2594 2.03794 23.5986 1.97748Z"
                      />
                      <path
                        opacity="0.953"
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M9.41309 0.92273C12.1553 0.913939 14.8975 0.92273 17.6396 0.949097C18.3548 1.28047 18.5394 1.79903 18.1934 2.50476C18.0517 2.69955 17.8671 2.83139 17.6396 2.90027C14.7741 2.91368 11.9089 2.94883 9.04395 3.00574C8.04273 3.06087 7.05839 3.21907 6.09082 3.48035C5.2226 3.85634 4.51068 4.42763 3.95508 5.19421C3.41135 6.13811 3.11252 7.15762 3.05859 8.25281C2.88282 11.7508 2.88282 15.2489 3.05859 18.7469C3.12253 19.7705 3.3862 20.7373 3.84961 21.6473C4.9174 23.1526 6.38518 23.9173 8.25293 23.9413C11.4864 24.0926 14.7207 24.1102 17.9561 23.994C18.9573 23.9389 19.9416 23.7807 20.9092 23.5194C22.2738 22.9458 23.179 21.9526 23.625 20.5399C23.817 19.6883 23.94 18.8269 23.9941 17.9559C24.0516 15.0734 24.0867 12.1906 24.0996 9.3075C24.4584 8.63102 24.977 8.46406 25.6553 8.80652C25.8273 8.94321 25.9591 9.11022 26.0508 9.3075C26.086 12.0672 26.086 14.827 26.0508 17.5868C26.0371 18.564 25.9316 19.5308 25.7344 20.4872C25.2877 22.532 24.1539 24.07 22.333 25.1014C21.1636 25.6343 19.9331 25.9332 18.6416 25.9979C15.0195 26.0487 11.3984 26.0311 7.77832 25.9452C5.132 25.7524 3.15446 24.5132 1.8457 22.2274C1.34999 21.0852 1.06874 19.8899 1.00195 18.6415C0.966796 15.2137 0.966796 11.786 1.00195 8.35828C1.05166 6.91283 1.4208 5.55935 2.10938 4.29773C3.46332 2.29752 5.35296 1.21647 7.77832 1.05457C8.33156 1.01221 8.87646 0.968266 9.41309 0.92273Z"
                      />
                      <path
                        opacity="0.941"
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M19.6437 8.8329C20.2215 8.73065 20.6346 8.94158 20.883 9.46571C20.9571 9.65408 20.9746 9.84746 20.9357 10.0458C20.2542 11.4264 19.5862 12.8151 18.9318 14.2118C17.8681 15.8849 16.3828 16.4211 14.4757 15.8202C13.4729 15.3622 12.7786 14.6152 12.3927 13.579C11.8629 12.9837 11.2212 12.8343 10.4679 13.1308C10.3029 13.243 10.1535 13.3748 10.0197 13.5263C9.29896 14.9676 8.57829 16.4091 7.85757 17.8505C7.45078 18.1928 7.00253 18.2543 6.51284 18.035C6.15156 17.7609 6.00211 17.4005 6.0646 16.954C6.76365 15.5382 7.44919 14.1144 8.12124 12.6825C9.16876 11.1319 10.6014 10.6134 12.4191 11.1268C13.4715 11.5816 14.201 12.3463 14.6076 13.4208C15.0271 13.9298 15.5632 14.1144 16.216 13.9745C16.5277 13.8934 16.7826 13.7264 16.9806 13.4735C17.6797 12.093 18.3652 10.7043 19.0373 9.30751C19.1978 9.09161 19.4 8.93341 19.6437 8.8329Z"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_119_51">
                        <rect width="27" height="27" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <h1>Informasi Kegiatan</h1>
                </>
              )}
            </NavLink>
            {/* NavLink UMKM */}
            <NavLink
              to={"umkm"}
              className={({ isActive }) => (isActive ? activeNav : navLInk)}
            >
              {({ isActive }) => (
                <>
                  <svg
                    className={`${
                      isActive ? "fill-secondary" : "fill-primary"
                    } w-[27px] h-[27px]`}
                    viewBox="0 0 27 27"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0_119_58)">
                      <path
                        opacity="0.958"
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M3.50684 0.395471C10.2247 0.369387 16.9395 0.395754 23.6514 0.474573C24.2195 0.70875 24.6326 1.10426 24.8906 1.6611C25.4364 3.87952 25.9989 6.09437 26.5781 8.30563C26.8452 10.9272 25.7993 12.8168 23.4404 13.9746C21.0763 14.746 19.1076 14.1748 17.5342 12.2607C15.9452 14.2228 13.9589 14.7765 11.5752 13.9218C10.756 13.5333 10.0705 12.9796 9.51855 12.2607C7.96147 14.1507 6.01029 14.7308 3.66504 14.0009C3.60352 17.5692 3.59473 21.1375 3.63867 24.706C5.55963 24.7585 7.48443 24.7762 9.41309 24.7588C9.40428 22.3329 9.41309 19.9071 9.43945 17.4814C9.58073 17.0941 9.85315 16.8568 10.2568 16.7695C12.4189 16.7343 14.5811 16.7343 16.7432 16.7695C17.168 16.8603 17.4405 17.1152 17.5605 17.5341C17.5869 19.9423 17.5957 22.3505 17.5869 24.7588C19.5156 24.7762 21.4404 24.7585 23.3613 24.706C23.3789 22.0341 23.3965 19.3623 23.4141 16.6904C23.5331 16.1761 23.8583 15.8948 24.3896 15.8466C24.8566 15.8658 25.1642 16.0944 25.3125 16.5322C25.3477 19.3096 25.3477 22.0869 25.3125 24.8642C25.1578 25.6576 24.7096 26.2113 23.9678 26.5254C17.0449 26.6129 10.1191 26.6306 3.19043 26.5781C2.37587 26.3085 1.8749 25.7547 1.6875 24.917C1.66992 20.8212 1.65234 16.7256 1.63477 12.6298C1.0465 11.8575 0.64221 10.9962 0.421875 10.0459C0.386719 9.44822 0.386719 8.85053 0.421875 8.25289C0.991649 6.09685 1.53657 3.93473 2.05664 1.76656C2.34675 1.09835 2.83015 0.641324 3.50684 0.395471ZM3.98145 2.24117C5.51074 2.24117 7.04004 2.24117 8.56934 2.24117C8.59449 4.84477 8.56812 7.44632 8.49023 10.0459C7.90752 11.7349 6.721 12.5172 4.93066 12.3925C3.43427 12.0563 2.54658 11.1335 2.26758 9.62399C2.22908 9.25232 2.24665 8.88317 2.32031 8.51657C2.85049 6.41315 3.4042 4.32132 3.98145 2.24117ZM10.5205 2.24117C12.542 2.24117 14.5635 2.24117 16.585 2.24117C16.5938 4.70218 16.585 7.16314 16.5586 9.62399C16.399 10.8935 15.7311 11.7724 14.5547 12.2607C12.6318 12.7055 11.331 12.0024 10.6523 10.1513C10.6115 9.95901 10.5764 9.76563 10.5469 9.57125C10.5205 7.12796 10.5117 4.6846 10.5205 2.24117ZM18.4834 2.24117C19.9952 2.23239 21.5069 2.24117 23.0186 2.26754C23.6088 4.35579 24.1625 6.45639 24.6797 8.5693C24.8992 10.2661 24.24 11.4878 22.7021 12.2343C20.9119 12.7232 19.5847 12.1519 18.7207 10.5205C18.626 10.2999 18.5557 10.0714 18.5098 9.83492C18.4834 7.30373 18.4746 4.77249 18.4834 2.24117ZM11.3643 18.6943C12.7881 18.6943 14.2119 18.6943 15.6357 18.6943C15.6357 20.7158 15.6357 22.7373 15.6357 24.7588C14.2119 24.7588 12.7881 24.7588 11.3643 24.7588C11.3643 22.7373 11.3643 20.7158 11.3643 18.6943Z"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_119_58">
                        <rect width="27" height="27" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                  <h1>UMKM</h1>
                </>
              )}
            </NavLink>
            {/* NavLink Wisata */}
            <NavLink
              to={"wisata"}
              className={({ isActive }) => (isActive ? activeNav : navLInk)}
            >
              {({ isActive }) => (
                <>
                  <svg
                    className={`${
                      isActive ? "fill-secondary" : "fill-primary"
                    } w-[27px] h-[27px]`}
                    viewBox="0 0 27 27"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      opacity="0.948"
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M12.05 0.395448C14.1424 0.146498 16.1287 0.489272 18.009 1.42377C18.6386 1.98797 18.6386 2.55048 18.009 3.11127C17.7595 3.2379 17.4958 3.27306 17.218 3.21674C14.0108 1.78954 10.9873 2.10595 8.1477 4.16596C5.70319 6.27428 4.72763 8.9198 5.22094 12.1025C5.36643 13.0823 5.70045 14.0316 6.22289 14.9501C6.73267 15.6357 7.2424 16.3212 7.75219 17.0068C9.6531 19.347 11.5339 21.7025 13.3948 24.0732C15.6448 21.2607 17.8947 18.4482 20.1448 15.6357C21.8184 13.1822 22.17 10.5279 21.1995 7.67279C21.0238 7.295 20.8743 6.90825 20.7512 6.51264C20.8519 5.68202 21.309 5.3568 22.1223 5.53705C22.2682 5.61441 22.4 5.71107 22.5178 5.82709C23.7886 8.24438 24.0698 10.7756 23.3616 13.4208C23.1204 14.2672 22.7864 15.0758 22.3596 15.8466C21.9284 16.498 21.4714 17.1309 20.9885 17.7451C18.7132 20.5383 16.4632 23.3508 14.2385 26.1826C14.0467 26.485 13.7742 26.6081 13.4211 26.5517C13.1154 26.605 12.8606 26.5171 12.6565 26.288C10.1379 23.0968 7.60669 19.9151 5.06273 16.7431C3.21356 14.0346 2.68622 11.0639 3.4807 7.831C4.85735 3.68805 7.7138 1.20954 12.05 0.395448ZM12.9993 6.98725C15.1298 6.94822 16.4745 7.95018 17.0334 9.9931C17.2411 11.52 16.7401 12.7593 15.5305 13.7109C14.0794 14.5341 12.6379 14.5165 11.2063 13.6581C9.52775 12.1038 9.29045 10.3548 10.4944 8.41107C11.1395 7.60076 11.9745 7.12615 12.9993 6.98725Z"
                    />
                    <path
                      opacity="0.947"
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M12.6825 5.03616C15.2903 4.88514 17.2326 5.93982 18.5096 8.20022C19.5756 10.8339 19.0746 13.1103 17.0067 15.0293C15.1345 16.4565 13.113 16.7025 10.9423 15.7676C8.64952 14.5085 7.60364 12.5661 7.80456 9.94046C8.22079 7.57305 9.56552 5.99983 11.8387 5.22073C12.1269 5.15725 12.4082 5.09572 12.6825 5.03616ZM12.9989 6.98733C11.9742 7.12623 11.1392 7.60084 10.494 8.41116C9.29008 10.3548 9.52739 12.1039 11.2059 13.6582C12.6376 14.5166 14.079 14.5341 15.5301 13.711C16.7397 12.7594 17.2407 11.5201 17.0331 9.99319C16.4741 7.95026 15.1294 6.94831 12.9989 6.98733Z"
                    />
                  </svg>
                  <h1>Wisata</h1>
                </>
              )}
            </NavLink>
            <button className={navLInk} onClick={handleLogOut}>
              <img src={ic_logout} alt="icon-logout" />
              Log Out
            </button>
          </div>
        </nav>
        {/* Akhir bagian Sidebar */}
        {/* Awal bagian Navbar dan Content */}
        <div
          className="w-9/12 absolute top-0 right-0 bg-cover bg-center bg-no-repeat min-h-screen"
          style={{ backgroundImage: `url(${bgPrimary})` }}
        >
          <div
            className="py-8 sticky z-50 top-0 bg-cover bg-center bg-no-repeat px-4"
            style={{ backgroundImage: `url(${bgPrimary})` }}
          >
            <h1 className=" text-end font-medium text-2xl text-accent">
              Halo Admin!
            </h1>
          </div>
          <div className="px-4 mt-4">
            <Outlet />
          </div>
        </div>
        {/* Akhir bagian Navbar dan Contet */}
      </div>
    </>
  );
};

export default Admin;
